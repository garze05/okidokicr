---
// Click button, get confetti!
// Styled by Tailwind :)
import { Icon } from "astro-icon/components";

const { icon, type = "primary"} = Astro.props;
---

{
  type === "primary" && (
    <div>
      <button class="from-primary-500 inline-flex w-full cursor-pointer items-center justify-center gap-2 rounded-2xl bg-gradient-to-r to-[#ff7e00] transition-all duration-150 hover:from-[#B02F00] hover:bg-gradient-to-r hover:to-[#862400] hover:scale-105 hover:shadow-action-500 px-5 py-[1em] shadow-2xl">
        <div class="font-secondary text-center font-bold text-white">
          <slot />
        </div>
        {icon && <Icon name={icon} width="30" height="30" class="text-white" />}
      </button>
    </div>
  )
}

{
  type === "secondary" && (
    <div>
      <button class="inline-flex w-full cursor-pointer items-center justify-center gap-2 rounded-2xl border-2 dark:border-white border-black-okidoki px-5 py-[1em] shadow-2xl transition-all duration-150 hover:border-primary-500 hover:scale-105">
      <div class="font-secondary w-full text-center font-bold dark:text-white text-black">
        <slot />
      </div>
      {icon && <Icon name={icon} width="30" height="30" class="dark:text-white text-black"/>}
      </button>
    </div>
  )
}

<script>
  import confetti from "canvas-confetti";
  const button = document.body.querySelector("button");

  if (button) {
    button.addEventListener("click", () => confetti());
  }
</script>

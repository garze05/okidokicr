---
// Click button, get confetti!
// Styled by Tailwind :)
import { Icon } from "astro-icon/components";

const { icon, type = "primary", w, h } = Astro.props;
---

{
  type === "primary" && (
    <div>
      <button class="from-primary-500 inline-flex w-full cursor-pointer items-center justify-center gap-2 rounded-2xl bg-gradient-to-r to-[#ff7e00] px-5 py-[1em] shadow-2xl">
        <div class="font-secondary text-center font-bold text-white">
          <slot />
        </div>
        {icon && <Icon name={icon} width="30" height="30" class="text-white" />}
      </button>
    </div>
  )
}

{
  type === "secondary" && (
    <div class="transition-all duration-300 ease-in-out">
      <button class="text-secondary-500 border-black-okidoki hover:border-primary-500 inline-flex w-full cursor-pointer items-center justify-center gap-2 rounded-2xl border-2 px-5 py-[4%] shadow-2xl">
        <div class="font-secondary w-full text-center font-bold">
          <slot />
        </div>
        {icon && <Icon name={icon} width="30" height="30" class="text-white" />}
      </button>
    </div>
  )
}

<script>
  import confetti from "canvas-confetti";
  const button = document.body.querySelector("button");

  if (button) {
    button.addEventListener("click", () => confetti());
  }
</script>

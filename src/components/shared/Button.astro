---
// Click button, get confetti!
// Styled by Tailwind :)
import { Icon } from "astro-icon/components";

const { icon, type = "primary", action = "button", textSize = "text-base" } = Astro.props;
---

{
  type === "primary" && (
      <button type={action} class="w-full from-primary-500 hover:shadow-action-500 inline-flex cursor-pointer items-center justify-center gap-2 rounded-2xl bg-gradient-to-r to-[#ff7e00] px-5 py-[1em] shadow-2xl transition-all duration-150 hover:scale-105 hover:bg-gradient-to-r hover:from-[#B02F00] hover:to-[#862400]">
        <div class={`font-secondary text-center font-bold text-white ${textSize}`}>
          <slot />
        </div>
        {icon && <Icon name={icon} width="30" height="30" class="text-white" />}
      </button>
  )
}

{
  type === "secondary" && (
      <button type={action} class="w-full border-black-okidoki hover:border-primary-500 inline-flex cursor-pointer items-center justify-center gap-2 rounded-2xl border-2 px-5 py-[1em] shadow-2xl transition-all duration-150 hover:scale-105 dark:border-white">
        <div class={`font-secondary text-center font-bold text-black dark:text-white ${textSize}`}>
          <slot />
        </div>
        {icon && (
          <Icon
            name={icon}
            width="30"
            height="30"
            class="text-black dark:text-white"
          />
        )}
      </button>
  )
}

<script>
  import confetti from "canvas-confetti";
  const button = document.body.querySelector("button");

  if (button) {
    button.addEventListener("click", () => confetti());
  }
</script>
